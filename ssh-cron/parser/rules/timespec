nr:
    NR
    {
        $$ = stol(d_scanner.matched());
    }
;


optStep:
    // empty
    {
        return 1;
    }
|
    '/' nr
    {
        return $2;
    }
;

addNr:
    nr
    {
        d_cron.addNr($1);
    }
;

numberUnit:
    nr '-' nr optStep
    {
        d_cron.addRange($1, $3, $4);
    }
|
    addNr
;

numberSequence:
    numberSequence ',' numberUnit
|
    numberUnit
;

timeEnds:
    WS
    {
        emsg.on();
    }
;

allSequence:
    '*'  optStep timeEnds   // empty set indicates `all valid specifications
    {
        d_cron.setAll($2);
    }
;

numberSpec:
    allSequence                                     
|
    numberSequence timeEnds
;


timeUnit:
    numberUnit
|
    ID
    {
        d_cron.addName(d_scanner.matched());
    }
;

timeSequence:
    timeSequence ',' timeUnit
|
    timeUnit
;


timeSpec:
    allSequence
|
    timeSequence timeEnds
;


